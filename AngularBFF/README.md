# Description

This sample uses Angular and ASP .Net Core BFF (backend for frontend). The sample uses [FHI.HelseId](https://github.com/FHIDev/fhi.helseid/wiki) nuget packages for authentication with [NHN Helse Id](https://utviklerportal.nhn.no/informasjonstjenester/helseid/)
## Technology
- ASP .Net Core
- Node


## Overview of sample application architecture


```mermaid
flowchart TD

User("<img src='https://super.so/icon/dark/user.svg'; width='25' /> User")


subgraph FHISystemGroup[FHI Application]

    style FHISystemGroup fill:#d5ebf5
    subgraph AngularBFF[ **Angular Client BFF**]
        style AngularBFF fill:#65adc3
        style HelseIdWeb fill:#0067c4
        style HelseIdAuthControllers fill:#0067c4
        Title[.Net 8 Backend API for frontend containing HelseId nugetpackages. The packages contains middleware for authentication against HelseId]
        style Title fill:transparent,stroke:none;
        HelseIdWeb[[**Nuget package** <br/>FHI.HelseId.Web ]]
        HelseIdAuthControllers[[**Nuget package** <br/>FHI.AuthControllers]]
    end
    subgraph AngularClient[ **Angular Client** <br/>Javascript front-end user using AngularJs libraries]
        style AngularClient fill:#65adc3
    end
end


subgraph WeatherAPI[<img src='fhi-logo.png' width='25' height='25' /> FHI API]
    style WeatherAPI fill:#d5ebf5
    SystemText[Another FHI system recieving access_token generated by HelseId. API validates access token]
    style SystemText fill:transparent,stroke:none;
end

subgraph HelseId[Helse Id]
    HelseIdText[OAuth2 and OpenId Connect provider for Helse Id]
    
end

User-- Login/logout request-->AngularClient
AngularClient--Request login/logout-->AngularBFF
AngularBFF-- authorize request-->HelseId
HelseId-- access_token response -->AngularBFF
AngularBFF-- request resource-->WeatherAPI



```

### Login flow


### Logout flow

### Silent renew flow
